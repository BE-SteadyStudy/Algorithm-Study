❓ 문제
---

[대장균들의 자식의 수 구하기](https://school.programmers.co.kr/learn/courses/30/lessons/299305)

### 문제 설명

`ECOLI_DATA` 테이블은 `ID`, `PARENT_ID`, `SIZE_OF_COLONY`, `DIFFERENTIATION_DATE`, `GENOTYPE`으로 구성되어 있고,
각각 대장균 개체의 ID, 부모 개체의 ID, 개체의 크기, 분화되어 나온 날짜, 개체의 형질을 나타냅니다.

### 문제

대장균 개체의 ID(`ID`)와 자식의 수(`CHILD_COUNT`)를 출력하는 SQL 문을 작성해주세요.
자식이 없다면 자식의 수는 0으로 출력해주세요. 이때 결과는 개체의 ID 에 대해 오름차순 정렬해주세요.

### 예시

`ECOLI_DATA` 테이블이 다음과 같다면

|ID	|PARENT_ID	|SIZE_OF_COLONY	|DIFFERENTIATION_DATE	|GENOTYPE|
|---|---|---|---|---|
|1	|NULL	|10	|2019/01/01	|5|
|2	|NULL	|2	|2019/01/01	|3|
|3	|1	|100	|2020/01/01	|4|
|4	|2	|17	|2020/01/01	|4|
|5	|2	|10	|2020/01/01	|6|
|6	|4	|101	|2021/01/01	|22|

결과는 다음과 같아야 합니다.

|ID	|CHILD_COUNT|
|---|---|
|1	|1|
|2	|2|
|3	|0|
|4	|1|
|5	|0|
|6	|0|

<br/>
<br/>

💡 풀이
---

`ECOLI_DATA`를 `E1`와 `E2`로, `E1.ID == E2.PARENT_ID`를 만족하도록 결합

|E1.ID	|E1.PARENT_ID	|E2.ID | E2.PARENT_ID|
|---|---|---|---|
|1	|NULL	|3	|1	|
|2	|NULL	|4	|2	|
|	|		|5	|2	|
|3	|1		|	|	|

- ```sql
FROM
ECOLI_DATA E1
LEFT JOIN
ECOLI_DATA E2
ON
E1.ID = E2.PARENT_ID

`E1`의 `ID`로 그룹화
- `GROUP BY E1.ID`

`E1`의 `ID`를 기준으로 오름차순 정렬
- `ORDER BY E1.ID ASC`

<br/>
<br/>

💻 코드
---

```sql
SELECT
    E1.ID,
    COUNT(E2.ID) AS CHILD_COUNT
FROM
    ECOLI_DATA E1
LEFT JOIN
    ECOLI_DATA E2
ON
    E1.ID = E2.PARENT_ID
GROUP BY
    E1.ID
ORDER BY
    E1.ID ASC;
```
